<?xml version="1.0"?>
<rdf:RDF
    xmlns="http://northwind.com/model/"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:owl="http://www.w3.org/2002/07/owl#"
    xmlns:odata4sparql="http://inova8.com/odata4sparql#"
    xmlns:sp="http://spinrdf.org/sp#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:operations="http://northwind.com/operations/"
    xmlns:spin="http://spinrdf.org/spin#"
    xmlns:spl="http://spinrdf.org/spl#"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
  xml:base="http://northwind.com/operations/obs">
  <owl:Ontology rdf:about="#">
    <owl:imports rdf:resource="http://inova8.com/odata4sparql"/>
    <owl:imports rdf:resource="http://northwind.com/model/"/>
    <owl:imports rdf:resource="http://spinrdf.org/spin"/>
    <owl:versionInfo>Created with TopBraid Composer</owl:versionInfo>
  </owl:Ontology>
  <owl:ObjectProperty rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years_Order">
    <owl:inverseOf>
      <owl:ObjectProperty rdf:about="http://northwind.com/model/Order_Summary_of_Sales_by_Years"/>
    </owl:inverseOf>
    <rdfs:range>
      <rdf:Description rdf:about="http://northwind.com/model/Order">
        <rdf:predicate rdf:resource="http://northwind.com/model/order"/>
      </rdf:Description>
    </rdfs:range>
    <rdfs:label>Summary of Sales by Years Order</rdfs:label>
    <rdfs:domain>
      <odata4sparql:Operation rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years">
        <rdfs:label>Summary of Sales by Years</rdfs:label>
        <sp:text>select ?orderID ?shippedDate (sum(?quantity*?price*(1- ?discount )) as ?subTotal)&#xD;
where{&#xD;
?orderID  a &lt;http://northwind.com/model/Order&gt; .&#xD;
?orderID  &lt;http://northwind.com/model/shippedDate&gt; ?shippedDate.&#xD;
?orderdetail &lt;http://northwind.com/model/order&gt; ?orderID .&#xD;
?orderdetail &lt;http://northwind.com/model/quantity&gt; ?quantity .&#xD;
?orderdetail &lt;http://northwind.com/model/unitPrice&gt; ?price .&#xD;
?orderdetail &lt;http://northwind.com/model/discount&gt; ?discount  . &#xD;
?orderdetail &lt;http://northwind.com/model/product&gt; ?prod .&#xD;
?prod rdfs:label ?prodlabel . FILTER(regex(?prodlabel, ?wildcard)) .  &#xD;
} &#xD;
group by ?orderID  ?shippedDate</sp:text>
        <sp:resultVariable>
          <sp:Variable>
            <rdf:predicate>
              <owl:DatatypeProperty rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years_subTotal"/>
            </rdf:predicate>
            <sp:varName>subTotal</sp:varName>
          </sp:Variable>
        </sp:resultVariable>
        <sp:resultVariable>
          <sp:Variable>
            <rdf:predicate>
              <owl:DatatypeProperty rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years_shippedDate"/>
            </rdf:predicate>
            <sp:varName>shippedDate</sp:varName>
          </sp:Variable>
        </sp:resultVariable>
        <sp:resultVariable>
          <sp:Variable>
            <rdf:predicate rdf:resource="http://northwind.com/model/Summary_of_Sales_by_Years_Order"/>
            <sp:varName>orderID</sp:varName>
          </sp:Variable>
        </sp:resultVariable>
        <sp:inputVariable>
          <sp:Variable>
            <rdf:predicate>
              <owl:DatatypeProperty rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years_wildcard"/>
            </rdf:predicate>
            <sp:varName>wildcard</sp:varName>
          </sp:Variable>
        </sp:inputVariable>
      </odata4sparql:Operation>
    </rdfs:domain>
  </owl:ObjectProperty>
  <owl:ObjectProperty rdf:about="http://northwind.com/model/product_orderSummary">
    <owl:inverseOf>
      <owl:ObjectProperty rdf:about="http://northwind.com/model/orderSummary_product"/>
    </owl:inverseOf>
    <rdfs:label>product order summary</rdfs:label>
  </owl:ObjectProperty>
  <owl:ObjectProperty rdf:about="http://northwind.com/model/orderSummary_order">
    <rdfs:range rdf:resource="http://northwind.com/model/Order"/>
    <rdfs:label>part of Order</rdfs:label>
    <rdfs:domain>
      <odata4sparql:Operation rdf:about="http://northwind.com/model/OrderSummary">
        <rdfs:label>Order summary</rdfs:label>
        <sp:text>select ?order ?prod (sum(?quantity * ( ?price * (1-?discount) )) as ?value)&#xD;
where{&#xD;
?orderdetail a &lt;http://northwind.com/model/OrderDetail&gt; .&#xD;
?orderdetail &lt;http://northwind.com/model/order&gt; ?order .&#xD;
?orderdetail &lt;http://northwind.com/model/product&gt; ?prod.&#xD;
?orderdetail &lt;http://northwind.com/model/quantity&gt; ?quantity .&#xD;
?orderdetail &lt;http://northwind.com/model/unitPrice&gt; ?price .&#xD;
?orderdetail &lt;http://northwind.com/model/discount&gt; ?discount &#xD;
} group by ?order ?prod</sp:text>
        <sp:resultVariable>
          <sp:Variable>
            <rdf:predicate>
              <owl:DatatypeProperty rdf:about="http://northwind.com/model/orderValue"/>
            </rdf:predicate>
            <sp:varName>value</sp:varName>
          </sp:Variable>
        </sp:resultVariable>
        <sp:resultVariable>
          <sp:Variable>
            <rdf:predicate>
              <owl:ObjectProperty rdf:about="http://northwind.com/model/orderSummary_product"/>
            </rdf:predicate>
            <sp:varName>prod</sp:varName>
          </sp:Variable>
        </sp:resultVariable>
        <sp:resultVariable>
          <sp:Variable>
            <rdf:predicate rdf:resource="http://northwind.com/model/orderSummary_order"/>
            <sp:varName>order</sp:varName>
          </sp:Variable>
        </sp:resultVariable>
      </odata4sparql:Operation>
    </rdfs:domain>
  </owl:ObjectProperty>
  <owl:ObjectProperty rdf:about="http://northwind.com/model/order_orderSummary">
    <owl:inverseOf rdf:resource="http://northwind.com/model/orderSummary_order"/>
    <rdfs:label>order order summary</rdfs:label>
  </owl:ObjectProperty>
  <owl:ObjectProperty rdf:about="http://northwind.com/model/orderSummary_product">
    <rdfs:range rdf:resource="http://northwind.com/model/Product"/>
    <rdfs:label>has Product</rdfs:label>
    <rdfs:domain rdf:resource="http://northwind.com/model/OrderSummary"/>
  </owl:ObjectProperty>
  <owl:DatatypeProperty rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years_subTotal">
    <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#float"/>
    <rdfs:label>Summary of Sales by Years sub total</rdfs:label>
    <rdfs:domain rdf:resource="http://northwind.com/model/Summary_of_Sales_by_Years"/>
  </owl:DatatypeProperty>
  <owl:DatatypeProperty rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years_shippedDate">
    <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#dateTime"/>
    <rdfs:label>Summary of Sales by Years shipped date</rdfs:label>
    <rdfs:domain rdf:resource="http://northwind.com/model/Summary_of_Sales_by_Years"/>
  </owl:DatatypeProperty>
  <owl:DatatypeProperty rdf:about="http://northwind.com/model/Summary_of_Sales_by_Years_wildcard">
    <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#string"/>
    <rdfs:domain rdf:resource="http://northwind.com/model/Summary_of_Sales_by_Years"/>
  </owl:DatatypeProperty>
  <owl:DatatypeProperty rdf:about="http://northwind.com/model/orderValue">
    <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#float"/>
    <rdfs:domain rdf:resource="http://northwind.com/model/OrderSummary"/>
    <rdfs:label>order value</rdfs:label>
  </owl:DatatypeProperty>
  <sp:Variable rdf:about="http://rdf.data.intra/envision/operations/long">
    <rdfs:label>long</rdfs:label>
  </sp:Variable>
  <owl:Thing rdf:about="http://northwind.com/model/Operations">
    <rdfs:label>Operations</rdfs:label>
    <spin:query rdf:resource="http://northwind.com/model/Summary_of_Sales_by_Years"/>
    <spin:query rdf:resource="http://northwind.com/model/OrderSummary"/>
  </owl:Thing>
  <sp:Variable/>
</rdf:RDF>

<!-- Created with TopBraid -->
